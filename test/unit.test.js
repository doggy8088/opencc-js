import { describe, it, expect } from 'vitest';
import * as OpenCC from '../dist/esm-lib/core.js';
import * as loc from '../dist/esm-lib/preset/full.js';

const Converter = OpenCC.ConverterBuilder(loc);

describe('Trie', () => {
  it('should convert basic ASCII words', () => {
    const trie = new OpenCC.Trie();
    trie.addWord('abc', '123');
    trie.addWord('abcd', '4');
    expect(trie.convert('ab')).toBe('ab');
    expect(trie.convert('abc')).toBe('123');
    expect(trie.convert('abcd')).toBe('4');
    expect(trie.convert('abcde')).toBe('4e');
    expect(trie.convert('dabc')).toBe('d123');
    expect(trie.convert('dabcd')).toBe('d4');
  });

  it('should convert CJK characters with variant selectors', () => {
    const trie = new OpenCC.Trie();
    trie.addWord('ð¦«–ð©‡©', 'aaa');
    trie.addWord('çš„ð«Ÿƒ', 'bbb');
    expect(trie.convert('ð¦«–ð©‡©ð­ž‚çš„ð«Ÿƒ')).toBe('aaað­ž‚bbb');
    expect(trie.convert('ð¦«–ð­ž‚ð©‡©çš„ð«Ÿƒ')).toBe('ð¦«–ð­ž‚ð©‡©bbb');
  });

  it('should handle empty trie', () => {
    const trie = new OpenCC.Trie();
    expect(trie.convert('test')).toBe('test');
  });

  it('should handle overlapping words', () => {
    const trie = new OpenCC.Trie();
    trie.addWord('a', '1');
    trie.addWord('ab', '12');
    trie.addWord('abc', '123');
    expect(trie.convert('abc')).toBe('123');
    expect(trie.convert('ab')).toBe('12');
    expect(trie.convert('a')).toBe('1');
  });

  it('should preserve unmapped characters', () => {
    const trie = new OpenCC.Trie();
    trie.addWord('hello', 'world');
    expect(trie.convert('hello123')).toBe('world123');
    expect(trie.convert('123hello')).toBe('123world');
  });
});

describe('Converter - Preset Conversions', () => {
  it('should convert Hong Kong to Simplified Chinese', () => {
    const converter = Converter({ from: 'hk', to: 'cn' });
    expect(converter('æ”¿åºœåˆæ­¥å‚¾å‘è©¦é©—ç‚ºç¶ è‰²å°ˆç·šå°å·´è¨­å……é›»è£ç½®')).toBe(
      'æ”¿åºœåˆæ­¥å€¾å‘è¯•éªŒä¸ºç»¿è‰²ä¸“çº¿å°å·´è®¾å……ç”µè£…ç½®'
    );
  });

  it('should convert Traditional to Simplified Chinese', () => {
    const converter = Converter({ from: 't', to: 'cn' });
    expect(converter('æ¼¢èªž')).toBe('æ±‰è¯­');
  });

  it('should convert Simplified to Traditional with Taiwan Phrase', () => {
    const converter = Converter({ from: 'cn', to: 'twp' });
    expect(converter('æ–¹ä¾¿é¢')).toBe('æ³¡éºµ');
  });

  it('should handle single character conversion', () => {
    const converter = Converter({ from: 't', to: 'cn' });
    expect(converter('èªž')).toBe('è¯­');
    expect(converter('æ¼¢')).toBe('æ±‰');
  });

  it('should preserve already converted text', () => {
    const converter = Converter({ from: 't', to: 'cn' });
    expect(converter('æ±‰è¯­')).toBe('æ±‰è¯­');
  });

  it('should handle mixed content with numbers', () => {
    const converter = Converter({ from: 't', to: 'cn' });
    expect(converter('ç¬¬123ç«  æ¼¢èªž')).toBe('ç¬¬123ç«  æ±‰è¯­');
  });

  it('should handle punctuation', () => {
    const converter = Converter({ from: 't', to: 'cn' });
    expect(converter('æ¼¢èªžã€ä¸­æ–‡ï¼Œç¹é«”ï¼Ÿ')).toBe('æ±‰è¯­ã€ä¸­æ–‡ï¼Œç¹ä½“ï¼Ÿ');
  });

  it('should handle empty string', () => {
    const converter = Converter({ from: 't', to: 'cn' });
    expect(converter('')).toBe('');
  });

  it('should handle whitespace', () => {
    const converter = Converter({ from: 't', to: 'cn' });
    expect(converter('æ¼¢ èªž')).toBe('æ±‰ è¯­');
    expect(converter('  æ¼¢èªž  ')).toBe('  æ±‰è¯­  ');
  });

  it('should handle newlines', () => {
    const converter = Converter({ from: 't', to: 'cn' });
    expect(converter('æ¼¢èªž\nç¹é«”')).toBe('æ±‰è¯­\nç¹ä½“');
  });
});

describe('CustomConverter', () => {
  it('should convert custom mappings', () => {
    const converter = OpenCC.CustomConverter([
      ['é¦™è•‰', 'ðŸŒï¸'],
      ['è˜‹æžœ', 'ðŸŽï¸'],
      ['æ¢¨', 'ðŸï¸'],
    ]);
    expect(converter('é¦™è•‰è˜‹æžœæ¢¨')).toBe('ðŸŒï¸ðŸŽï¸ðŸï¸');
  });

  it('should handle overlapping custom mappings', () => {
    const converter = OpenCC.CustomConverter([
      ['AB', 'X'],
      ['ABC', 'Y'],
    ]);
    expect(converter('ABC')).toBe('Y');
    expect(converter('AB')).toBe('X');
  });

  it('should handle multiple occurrences', () => {
    const converter = OpenCC.CustomConverter([
      ['è€', 'è€'],
      ['è™Ž', 'ðŸ¯'],
    ]);
    expect(converter('è€è™Žè€è™Ž')).toBe('è€ðŸ¯è€ðŸ¯');
  });

  it('should handle empty custom mapping', () => {
    const converter = OpenCC.CustomConverter([]);
    expect(converter('test')).toBe('test');
  });

  it('should preserve unmapped text in custom converter', () => {
    const converter = OpenCC.CustomConverter([
      ['A', 'X'],
    ]);
    expect(converter('ABCD')).toBe('XBCD');
    expect(converter('A')).toBe('X');
  });
});

describe('Edge Cases', () => {
  it('should handle consecutive same characters', () => {
    const converter = Converter({ from: 't', to: 'cn' });
    expect(converter('æ¼¢æ¼¢æ¼¢')).toBe('æ±‰æ±‰æ±‰');
  });

  it('should handle very long text', () => {
    const converter = Converter({ from: 't', to: 'cn' });
    const longText = 'æ¼¢èªž'.repeat(1000);
    expect(converter(longText)).toBe('æ±‰è¯­'.repeat(1000));
  });

  it('should handle special Unicode characters', () => {
    const converter = Converter({ from: 't', to: 'cn' });
    expect(converter('çµ„ç¹”')).toBe('ç»„ç»‡');
  });

  it('should handle Emoji with text', () => {
    const converter = Converter({ from: 't', to: 'cn' });
    expect(converter('æ¼¢èªžðŸ‘')).toBe('æ±‰è¯­ðŸ‘');
  });
});

describe('å¸¸è¦‹ç°¡ç¹è½‰æ›éŒ¯èª¤', () => {
  it('should handle "å‘" (fa) character correctly', () => {
    const converter = Converter({ from: 'cn', to: 'tw' });
    const cases = {
      'å‘çŽ°': 'ç™¼ç¾',
      'å‘èŠ½': 'ç™¼èŠ½',
      'å‘ç”Ÿ': 'ç™¼ç”Ÿ',
      'å‘çŽ°': 'ç™¼ç¾',
      'å‘çƒ§': 'ç™¼ç‡’',
      'å‘æ€’': 'ç™¼æ€’',
      'å‘è¡¨': 'ç™¼è¡¨',
      'å¼€å‘': 'é–‹ç™¼',
      'å‘é€': 'ç™¼é€',
      'å‘å°„': 'ç™¼å°„',
      'å‘è¡Œ': 'ç™¼è¡Œ',
      'å‘å‡º': 'ç™¼å‡º',
      'å‘è¨€': 'ç™¼è¨€',
      'å‘å±•': 'ç™¼å±•',
      'å‘è¾¾': 'ç™¼é”',
      'å‘è´¢': 'ç™¼è²¡',
      'å‘æ‰¬': 'ç™¼æš',
    };
    for (const [cn, tw] of Object.entries(cases)) {
      expect(converter(cn)).toBe(tw);
    }
  });

  it('should handle "å¸¸è¦‹å°ç£è©žå½™" character correctly', () => {
    // ä½¿ç”¨å…§å»º tw2 è©žåº«ï¼ˆTWVariants + TWPhrasesCustomï¼‰
    const converter = Converter({ from: 'cn', to: 'tw2' });

    expect(loc.to.tw2).toHaveLength(2);
    expect(loc.to.tw2[0]).toBe(loc.to.tw[0]);
    expect(Array.isArray(loc.to.tw2[1])).toBe(true);

    const cases = {

      'Web å¹³å°åº“': 'Web å¹³å°å‡½å¼åº«',
      'ã€Œç±»ã€': 'ã€Œé¡žåˆ¥ã€',
      'ä¸€ä¸ªç±»': 'ä¸€å€‹é¡žåˆ¥',
      'ä»»æ„ç±»': 'ä»»æ„é¡žåˆ¥',
      'å…¨å¹³å°åº“åˆ—è¡¨': 'å…¨å¹³å°å‡½å¼åº«åˆ—è¡¨',
      'å…·ä½“ç±»æ‰©å……': 'å…·é«”é¡žåˆ¥æ“´å……',
      'åŽŸç”Ÿå¹³å°åº“': 'åŽŸç”Ÿå¹³å°å‡½å¼åº«',
      'å­ç±»': 'å­é¡žåˆ¥',
      'å°±æ˜¯ç±»': 'å°±æ˜¯é¡žåˆ¥',
      'æŠ½è±¡ç±»': 'æŠ½è±¡é¡žåˆ¥',
      'æŽ¥å£å’ŒæŠ½è±¡ç±»': 'ä»‹é¢å’ŒæŠ½è±¡é¡žåˆ¥',
      'æŽ§åˆ¶å°': 'ä¸»æŽ§å°',
      'æŽ§åˆ¶å°æ‰“å°': 'è¼¸å‡ºåˆ° Console',
      'æ‰©å±•ç±»ï¼ˆç»§æ‰¿ï¼‰': 'é¡žåˆ¥ç¹¼æ‰¿',
      'æ–‡æ¡£æ³¨é‡Š': 'æ–‡ä»¶è¨»è§£',
      'æ …æ ¼ç±»': 'ç¶²æ ¼é¡žåˆ¥',
      'çš„ç±»éƒ½æ‹¥æœ‰': 'çš„é¡žåˆ¥éƒ½æ“æœ‰',
      'ç±»åŠ è½½å™¨': 'é¡žåˆ¥è¼‰å…¥å™¨',
      'æŽ§åˆ¶æª¯': 'ä¸»æŽ§å°',
      'è„šæœ¬': 'æŒ‡ä»¤ç¢¼',
      'è°ƒç”¨å®žçŽ°ç±»': 'å‘¼å«å¯¦ç¾é¡žåˆ¥',
      'è¿™äº›ç±»æ‹¥æœ‰': 'é€™äº›é¡žåˆ¥æ“æœ‰',
      'é¢„å®šä¹‰ç±»': 'é å…ˆå®šç¾©é¡žåˆ¥',
      'ç±»ã€‚': 'é¡žåˆ¥ã€‚',
      'ç±»åŠ è½½': 'é¡žåˆ¥è¼‰å…¥',
      'ç±»åº“': 'é¡žåˆ¥åº«',
      'ç±»çš„': 'é¡žåˆ¥çš„',
      'ç±»ï¼ˆ Class ï¼‰': 'é¡žåˆ¥ï¼ˆ Class ï¼‰',

      // æ³•/é«®/ç™¼
      'ä¸€è§¦å³å‘': 'ä¸€è§¸å³ç™¼',
      'åƒé’§ä¸€å‘': 'åƒéˆžä¸€é«®',
      'è“„åŠ¿å¾…å‘': 'è“„å‹¢å¾…ç™¼',
      'ç™¾å‘ç™¾ä¸­': 'ç™¾ç™¼ç™¾ä¸­',
      'æŒ¯è‹å‘è©': 'æŒ¯è¾ç™¼èµ',
      'å¥‹å‘å›¾å¼º': 'å¥®ç™¼åœ–å¼·',
      'åŽšç§¯è–„å‘': 'åŽšç©è–„ç™¼',

      // å…¶ä»–å¸¸è¦‹è©žå½™è½‰æ›
      'å“¥ç‰¹é£Žæ ¼': 'å“¥å¾·é¢¨æ ¼',
      'å‰ªè£åˆä½“': 'å‰ªè£åˆèº«',
      'å«è¡£': 'é€£å¸½è¡«',
      'çº¢æ™•': 'è‡‰ç´…',
      'ç›‘æŽ§æ‘„åƒå¤´': 'ç›£è¦–æ”å½±æ©Ÿ',
      'æ¯›ç»’': 'çµ¨æ¯›',
      'èƒŒåŒ…': 'èƒŒåŒ…',
      'å®‰å…¨å¥—': 'ä¿éšªå¥—',
      'é«˜è´¨é‡': 'é«˜å“è³ª',
      'èµ›åšæœ‹å…‹': 'è³½åšé¾å…‹',
      'é»‘å®¢å¸å›½': 'é§­å®¢ä»»å‹™',
      'éœæ ¼æ²ƒèŒ¨': 'éœæ ¼è¯èŒ²',
      'æ˜Ÿçƒå¤§æˆ˜': 'æ˜Ÿéš›å¤§æˆ°',
      'å¡”å›¾å› é›†å¸‚': 'å¡”åœ–å› å¸‚é›†',
      'æŒ‡çŽ¯çŽ‹': 'é­”æˆ’',
      'æƒåŠ›çš„æ¸¸æˆ': 'å†°èˆ‡ç«ä¹‹æ­Œ',
      'ç›—æ¢¦ç©ºé—´': 'å…¨é¢å•Ÿå‹•',
      'æŠ˜å ': 'æŠ˜ç–Š',
      'ç²˜åœŸ': 'é»åœŸ',
      'æ³°å¦å°¼å…‹å·': 'éµé”å°¼è™Ÿ',
      'æ˜Ÿé™…ç©¿è¶Š': 'æ˜Ÿéš›æ•ˆæ‡‰',
      'é’¢é“ä¾ ': 'é‹¼éµäºº',
      'ç«–æž„å›¾': 'ç›´å¼æ§‹åœ–',
      'æ¨ªæž„å›¾': 'æ©«å¼æ§‹åœ–',
      'ç°è‰²å¼€è¡«': 'ç°è‰²é–‹è¥Ÿ',
      'åŸƒè²å°”é“å¡”': 'è‰¾è²çˆ¾éµå¡”',
      'èˆžå°èšå…‰ç¯': 'èˆžå°èšå…‰ç‡ˆ',
      'æ¡‚æž—æ¼“æ±Ÿ': 'æ¡‚æž—æ¼“æ±Ÿ',
      'å°æ¹¾': 'å°ç£',
      'æ–¯å¡”å…‹': 'å²å¡”å…‹',
      'æ‰Žå“ˆÂ·å“ˆè¿ªå¾·': 'è–©å“ˆÂ·å“ˆè’‚',
      'å°çƒæ¡Œ': 'æ’žçƒæ¡Œ',
      'å•åç›¸æœº': 'å–®çœ¼ç›¸æ©Ÿ',
      'å‰ƒé¡»åˆ€': 'åˆ®é¬åˆ€',
      'å±å¹•': 'èž¢å¹•',

      // å¸¸è¦‹è©žå½™è½‰æ›
      'ç«žå“': 'ç«¶å“',
      'æƒ°æ€§åŠ è½½': 'å»¶é²è¼‰å…¥',
      'å¼•ç”¨å˜æ•°': 'åƒè€ƒè®Šæ•¸',
      'å˜é‡': 'è®Šæ•¸',
      'for å¾ªçŽ¯': 'for è¿´åœˆ',
      'while å¾ªçŽ¯': 'while è¿´åœˆ',
      'è§†é¢‘': 'å½±ç‰‡',
      'éŸ³é¢‘': 'éŸ³è¨Š',
      'æ¿€å…‰': 'é›·å°„',
      'ä¸€äº›åº“': 'ä¸€äº›å‡½å¼åº«',
      'ä¸€ä¸ªåº“': 'ä¸€å€‹å‡½å¼åº«',
      'å¹¶å‘': 'å¹³è¡Œè™•ç†',
      'äº‹åŠ¡': 'äº¤æ˜“',
      'äº‹åŠ¡æ€§': 'äº¤æ˜“å¼',
      'ä»£ç ': 'ç¨‹å¼ç¢¼',
      'ä»£ç å¿«': 'ç¨‹å¼ç¢¼å€å¡Š',
      'ä»£ç æ®µ': 'ç¨‹å¼ç¢¼ç‰‡æ®µ',
      'ä»£ç ç”Ÿæˆ': 'ç¨‹å¼ç¢¼ç”¢ç”Ÿå™¨',
      'ä»£ç å®¡æŸ¥': 'ç¨‹å¼ç¢¼å¯©æŸ¥',
      'ä»£ç åº“': 'ç¨‹å¼ç¢¼åº«',
      'ä»£ç é‡æž„': 'ç¨‹å¼ç¢¼é‡æ§‹',
      'ä¼¸ç¼©æ€§': 'å»¶å±•æ€§',
      'ä¾èµ–åŒ…': 'ç›¸ä¾å¥—ä»¶',
      'ä¾èµ–æ³¨å…¥': 'ç›¸ä¾æ€§æ³¨å…¥',
      'ä¾èµ–é¡¹': 'ç›¸ä¾æ€§',
      'ä¿ç•™å…³é”®å­—': 'ä¿ç•™å­—',
      'ä¿¡æ¯': 'è¨Šæ¯',
      'å…ƒæ•°æ®': 'Metadata',
      'å…‹éš†': 'è¤‡è£½',
      'å†…å­˜': 'è¨˜æ†¶é«”',
      'å†…å­˜æ´©æ¼': 'è¨˜æ†¶é«”æ´©æ¼',
      'å†…ç½®': 'å…§å»º',
      'å…¨å±€': 'å…¨åŸŸ',
      'å…¨å±€å˜é‡': 'å…¨åŸŸè®Šæ•¸',
      'å…¼å®¹æ€§': 'ç›¸å®¹æ€§',
      'å†‡æœ‰': 'æ²’æœ‰',
      'å‡½æ•°': 'å‡½å¼',
      'å‡½æ•°å¼ç¼–ç¨‹': 'å‡½æ•¸å¼ç¨‹å¼è¨­è¨ˆ',
      'åˆ°è´¦': 'åˆ°å¸³',
      'åˆ·æ–°': 'é‡æ–°æ•´ç†',
      'åˆ›å»º': 'å»ºç«‹',
      'åˆ›å»ºä¸€ä¸ªæ•´åž‹': 'å»ºç«‹ä¸€å€‹æ•´æ•¸åž‹åˆ¥',
      'åŠ è½½': 'è¼‰å…¥',
      'åŠ¨å›¾': 'å‹•ç•«',
      'åŒ…å®šä¹‰': 'å¥—ä»¶å®šç¾©',
      'åŒ…çš„ä¾èµ–': 'å¥—ä»¶ç›¸ä¾æ€§',
      'åŒ…ç®¡ç†å™¨': 'å¥—ä»¶ç®¡ç†å™¨',
      'åšå®¢': 'éƒ¨è½æ ¼',
      'åŽŸè¯­': 'åŽŸèªž(primitives)',
      'åªè¯»': 'å”¯è®€',
      'å¯æ‰©å±•æ€§': 'å¯æ“´å……æ€§',
      'å¯è§†åŒ–': 'è¦–è¦ºåŒ–',
      'å¯è§†åŒ–æ€æƒ³': 'è¦–è¦ºåŒ–çš„é»žå­',
      'å¯è®¿é—®æ€§': 'å¯åŠæ€§',
      'å‘½ä»¤è¡Œ': 'å‘½ä»¤åˆ—',
      'å‘½ä»¤è¡Œå·¥å…·': 'å‘½ä»¤åˆ—å·¥å…·',
      'å›žè°ƒ': 'callback',
      'å›žè°ƒå‡½å¼': 'å›žå‘¼å‡½å¼',
      'åœ¨çº¿': 'ç·šä¸Š',
      'åœ¨çº¿æ–‡æ¡£': 'ç·šä¸Šæ–‡ä»¶',
      'å‡è¡¡': 'å¹³è¡¡',
      'å—çº§ä½œç”¨åŸŸ': 'å€å¡Šä½œç”¨åŸŸ',
      'å¤šçº¿ç¨‹': 'å¤šåŸ·è¡Œç·’',
      'çº¿ç¨‹': 'Threads',
      'å­—æ®µ': 'æ¬„ä½',
      'å­—ç¬¦': 'å­—å…ƒ',
      'å­—ç¬¦ä¸²': 'å­—ä¸²',
      'å­—ç¬¦ç¼–ç ': 'å­—å…ƒç·¨ç¢¼',
      'ç¼–ç ': 'å¯«ç¨‹å¼',
      'å­—èŠ‚': 'ä½å…ƒçµ„',
      'å­—èŠ‚ç ': 'ä½å…ƒçµ„ç¢¼',
      'å­—é¢é‡': 'å­—é¢é‡ï¼ˆLiteralï¼‰',
      'å­˜å‚¨': 'å„²å­˜',
      'å­˜å‚¨è¿‡ç¨‹': 'é å­˜ç¨‹åº',
      'å®šåˆ¶': 'å®¢è£½åŒ–',
      'å®šè£½': 'å®¢è£½åŒ–',
      'å®žä¾‹åŒ–': 'å¯¦é«”åŒ–',
      'å¯¹è±¡': 'ç‰©ä»¶',
      'å¯¹è±¡å¯¼å‘': 'ç‰©ä»¶å°Žå‘',
      'å¯¼å…¥': 'åŒ¯å…¥',
      'å¯¼å‡º': 'åŒ¯å‡º',
      'å¯¼èˆª': 'å°Žè¦½',
      'å¯¼èˆªæ¡': 'å°Žè¦½åˆ—',
      'å±€éƒ¨å˜é‡': 'å€åŸŸè®Šæ•¸',
      'å±å¹•': 'èž¢å¹•',
      'å±è”½': 'é®ç½©',
      'åµŒå¥—': 'å·¢ç‹€ (Nesting)',
      'å·¥å…·é“¾': 'å·¥å…·éˆ',
      'å·¨çŸ³': 'å–®é«”',
      'å¸ƒå°”å€¼': 'å¸ƒæž—å€¼',
      'å¸ƒå°”åž‹': 'å¸ƒæž—åž‹åˆ¥',
      'å¸¦å®½': 'é »å¯¬',
      'å¹²è´§': 'ä¹¾è²¨',
      'åº“æ¦‚è§ˆ': 'å‡½å¼åº«æ¦‚è¦½',
      'åº”ç”¨ç¨‹åº': 'æ‡‰ç”¨ç¨‹å¼',
      'å¼€å‘': 'é–‹ç™¼',
      'å¼€å‘è€…': 'é–‹ç™¼è€…',
      'å¼€å‘çŽ¯å¢ƒ': 'é–‹ç™¼ç’°å¢ƒ',
      'å¿«æ·é”®': 'å¿«é€Ÿéµ',
      'å¿«é€Ÿèµ·æ­¥': 'å¿«é€Ÿå…¥é–€',
      'æ€§èƒ½': 'æ•ˆèƒ½',
      'æ€§èƒ½ä¼˜åŒ–': 'æ•ˆèƒ½æœ€ä½³åŒ–',
      'æ€§èƒ½æµ‹è¯•': 'æ•ˆèƒ½æ¸¬è©¦',
      'æƒ°æ€§è½½å…¥': 'å»¶é²è¼‰å…¥',
      'åº”ç”¨ç¨‹åº': 'æ‡‰ç”¨ç¨‹å¼',
      'åº”ç”¨ç¨‹åºæŽ¥å£': 'æ‡‰ç”¨ç¨‹å¼ä»‹é¢',
      'æ‡’åŠ è½½': 'å»¶é²è¼‰å…¥',
      'æˆ‘ä»¬çš„ç¨‹åº': 'æˆ‘å€‘çš„æ‡‰ç”¨ç¨‹å¼',
      'æ‰“åŒ…': 'å°è£',
      'æ‰“åŒ…å·¥å…·': 'å°è£å·¥å…·',
      'æ‰¹å¤„ç†': 'æ‰¹æ¬¡è™•ç†',
      'æŠ€æœ¯æ ˆ': 'æŠ€è¡“å †ç–Š',
      'æŒ‡é’ˆ': 'æŒ‡æ¨™',
      'æŽ¥å£': 'ä»‹é¢',
      'æŽ§ä»¶': 'æŽ§åˆ¶é …',
      'æ‰“å°æœº': 'å°è¡¨æ©Ÿ',
      'æ’ä»¶': 'å¤–æŽ›',
      'æ’ä»¶å¼€å‘': 'å¤–æŽ›é–‹ç™¼',
      'æœç´¢': 'æœå°‹',
      'æœç´¢å¼•æ“Ž': 'æœå°‹å¼•æ“Ž',
      'æ“ä½œç¬¦': 'é‹ç®—å­',
      'æ‰©å±•': 'æ“´å……',
      'æ”¯æŒ': 'æ”¯æ´',
      'æ•™ç¨‹': 'èª²ç¨‹',
      'æ•°å­—': 'æ•¸ä½',
      'æ•°å­—è¥é”€': 'æ•¸ä½è¡ŒéŠ·',
      'æ•°æ®': 'è³‡æ–™',
      'æ•°æ®åº“': 'è³‡æ–™åº«',
      'æ•°æ®ç»“æž„': 'è³‡æ–™çµæ§‹',
      'æ•°æ®ç»‘å®š': 'è³‡æ–™ç¹«çµ',
      'æ•°æ®ç±»åž‹': 'è³‡æ–™åž‹åˆ¥',
      'æ•°ç»„': 'é™£åˆ—',
      'æ–‡æ¡£': 'æ–‡ä»¶',
      'æ–‡ä»¶å¤¹': 'è³‡æ–™å¤¾',
      'æ–­ç‚¹': 'ä¸­æ–·é»ž',
      'æ–­è¨€': 'åˆ¤æ–·æç¤º',
      'æ—¥èªŒ': 'è¨˜éŒ„',
      'æ—¶é—´æˆ³': 'æ™‚é–“æˆ³è¨˜',
      'æ˜ å°„': 'å°æ‡‰',
      'æ™ºèƒ½': 'æ™ºæ…§',
      'æœ€ä½³å®žè·µ': 'æœ€ä½³åšæ³•',
      'æœåŠ¡å™¨': 'ä¼ºæœå™¨',
      'æœåŠ¡å™¨ç«¯': 'ä¼ºæœå™¨ç«¯',
      'æœåŠ¡ç«¯': 'ä¼ºæœå™¨ç«¯',
      'æ¡†æž¶': 'æ¡†æž¶',
      'æ …æ ¼': 'ç¶²æ ¼',
      'æ ¸å¿ƒåº“': 'æ ¸å¿ƒå‡½å¼åº«',
      'æ ¹ç»„ä»¶': 'æ ¹å…ƒä»¶',
      'æ ˆè¿½è¸ª': 'å †ç–Šè¿½è¹¤ï¼ˆStack Traceï¼‰',
      'æžç«¯è¦æ±‚': 'åš´æ ¼è¦æ±‚',
      'æž„å»º': 'å»ºæ§‹',
      'æž„å»ºå·¥å…·': 'å»ºæ§‹å·¥å…·',
      'æž„é€ å‡½å¼': 'å»ºæ§‹å‡½å¼',
      'æž„é€ å—': 'æ§‹æˆè¦ç´ ',
      'æ ‡è¯†ç¬¦': 'è­˜åˆ¥ç¬¦è™Ÿ',
      'æ ‡ç±¤': 'æ¨™è¨˜',
      'æ¨¡å—': 'æ¨¡çµ„',
      'æ¨¡å—åŒ–': 'æ¨¡çµ„åŒ–',
      'æ¨¡æ¿': 'æ¨£æ¿',
      'æ¨¡æ¿å¼•æ“Ž': 'æ¨£æ¿å¼•æ“Ž',
      'æ¨¡ç»„åº“': 'æ¨¡çµ„å‡½å¼åº«',
      'æ¨¡ç»„çš„åº“': 'æ¨¡çµ„çš„å‡½å¼åº«',
      'æ ·ä¾‹': 'ç¯„ä¾‹',
      'æƒé™': 'æ¬Šé™',
      'æ³•å­¦ç¡•å£«': 'LLM',
      'æ´¾ç”Ÿç‰©ä»¶': 'è¡ç”Ÿç‰©ä»¶',
      'æµç¨‹': 'æµç¨‹',
      'æµç¨‹å›¾': 'æµç¨‹åœ–',
      'æµ‹è¯•': 'æ¸¬è©¦',
      'æµ‹è¯•ç”¨ä¾‹': 'æ¸¬è©¦æ¡ˆä¾‹',
      'æµ‹è¯•å¤ç›–çŽ‡': 'æ¸¬è©¦è¦†è“‹çŽ‡',
      'æ¶ˆæ¯': 'è¨Šæ¯',
      'æ¶ˆæ¯é˜Ÿåˆ—': 'è¨Šæ¯ä½‡åˆ—',
      'æ·»åŠ ': 'æ–°å¢ž',
      'æºä»£ç ': 'åŽŸå§‹ç¢¼',
      'æºç ': 'åŽŸå§‹ç¢¼',
      'æ¼”ç¤º': 'ç¤ºç¯„',
      'æ¼”ç¤ºç¨‹åº': 'å±•ç¤ºç¨‹å¼',
      'æ¿€æ´»': 'å•Ÿå‹•',
      'è¥é”€': 'è¡ŒéŠ·',
      'çˆ†å‘': 'çˆ†ç™¼',
      'ç‰ˆæœ¬æŽ§åˆ¶': 'ç‰ˆæœ¬æŽ§åˆ¶',
      'ç”Ÿäº§çŽ‡': 'ç”Ÿç”¢åŠ›',
      'ç”Ÿäº§çŽ¯å¢ƒ': 'æ­£å¼ç’°å¢ƒ',
      'ç”¨ä¾‹': 'ä½¿ç”¨æ¡ˆä¾‹',
      'ç”¨æˆ·': 'ä½¿ç”¨è€…',
      'ç”¨æˆ·ç•Œé¢': 'ä½¿ç”¨è€…ä»‹é¢',
      'å¼‚å¸¸': 'ä¾‹å¤–',
      'å¼‚å¸¸å¤„ç†': 'ä¾‹å¤–è™•ç†',
      'å¼‚æ­¥': 'éžåŒæ­¥',
      'å¼‚æ­¥ç¼–ç¨‹': 'éžåŒæ­¥ç¨‹å¼è¨­è¨ˆ',
      'çš„åº“': 'çš„å‡½å¼åº«',
      'ç›‘å¬': 'ç›£è½',
      'ç›‘å¬å™¨': 'ç›£è½å™¨',
      'ç›¸ä¾æ€§æ’å…¥': 'ç›¸ä¾æ€§æ³¨å…¥',
      'çŸ¢é‡': 'å‘é‡',
      'çŸ¢é‡å›¾': 'å‘é‡åœ–',
      'çŸ¥è¯†åº“': 'çŸ¥è­˜åº«',
      'ç å†œ': 'ç¨‹å¼è¨­è¨ˆå¸«',
      'ç¤ºä¾‹': 'ç¯„ä¾‹',
      'ç¤¾åŒº': 'ç¤¾ç¾¤',
      'ç§˜ç±': 'ç§˜ç¬ˆ',
      'ç§»åŠ¨': 'è¡Œå‹•',
      'ç§»åŠ¨ç«¯': 'è¡Œå‹•è£ç½®ç«¯',
      'ç§»åŠ¨åº”ç”¨': 'è¡Œå‹•æ‡‰ç”¨ç¨‹å¼',
      'ç¨‹åº': 'ç¨‹å¼',
      'ç¨‹åºå‘˜': 'ç¨‹å¼è¨­è¨ˆå¸«',
      'ç®—æ³•': 'æ¼”ç®—æ³•',
      'ç®—æ³•è¤‡æ‚åº¦': 'æ¼”ç®—æ³•è¤‡é›œåº¦',
      'ç´¢å¼•': 'ç´¢å¼•',
      'ç»„ä»¶': 'å…ƒä»¶',
      'ç»„ä»¶åŒ–': 'å…ƒä»¶åŒ–',
      'ç»‘å®š': 'ç¹«çµ',
      'ç½‘ç»œ': 'ç¶²è·¯',
      'ç½‘ç»œè¯·æ±‚': 'ç¶²è·¯è«‹æ±‚',
      'ç¼–è¯‘': 'ç·¨è­¯',
      'ç¼–è¯‘å™¨': 'ç·¨è­¯å™¨',
      'ç¼–ç¨‹': 'ç¨‹å¼è¨­è¨ˆ',
      'ç¼–ç¨‹è¯­è¨€': 'ç¨‹å¼èªžè¨€',
      'ç¼“å­˜': 'å¿«å–',
      'ç¼“å­˜ç­–ç•¥': 'å¿«å–ç­–ç•¥',
      'å£°æ˜Ž': 'å®£å‘Š',
      'å£°æ˜Žå¼': 'å®£å‘Šå¼',
      'è‡ªå®šä¹‰': 'è‡ªè¨‚',
      'èœå•': 'é¸å–®',
      'è™šæ‹ŸåŒ–': 'è™›æ“¬åŒ–',
      'è™šæ‹Ÿæœº': 'è™›æ“¬æ©Ÿå™¨',
      'è§†å£': 'ç•«é¢',
      'è§†å›¾': 'æª¢è¦–',
      'è§†å›¾å±‚': 'æª¢è¦–å±¤',
      'è§„èŒƒ': 'è¦ç¯„',
      'è§¦å‘': 'è§¸ç™¼',
      'è§£æž': 'è§£æž',
      'è§£æžå™¨': 'è§£æžå™¨',
      'è®¡ç®—æœº': 'é›»è…¦',
      'è®¡ç®—å±žæ€§': 'è¨ˆç®—å±¬æ€§',
      'è®¿é—®': 'å­˜å–',
      'è®¿é—®ä¿®é¥°ç¬¦': 'å­˜å–ä¿®é£¾ç¬¦',
      'è®¿é—®æƒé™': 'å­˜å–æ¬Šé™',
      'è®¾ç½®': 'è¨­å®š',
      'è®¾è®¡æ¨¡å¼': 'è¨­è¨ˆæ¨¡å¼',
      'è¯­å¥': 'é™³è¿°å¼',
      'è¯­æ³•': 'èªžæ³•',
      'è¯­æ³•ç³–': 'èªžæ³•ç³–',
      'è°ƒç”¨': 'å‘¼å«',
      'è°ƒç”¨å †æ ˆ': 'å‘¼å«å †ç–Š',
      'è°ƒåº¦': 'æŽ’ç¨‹',
      'è°ƒè¯•': 'åµéŒ¯',
      'è°ƒè¯•å™¨': 'åµéŒ¯å·¥å…·',
      'è°ƒè¯•å·¥å…·': 'åµéŒ¯å·¥å…·',
      'è´Ÿè½½å‡è¡¡': 'è² è¼‰å¹³è¡¡',
      'è´¦æˆ·': 'å¸³æˆ¶',
      'è´¦å·': 'å¸³è™Ÿ',
      'è¶…é“¾æŽ¥': 'è¶…é€£çµ',
      'è·Ÿè¸ª': 'è¿½è¹¤',
      'è·¨åŸŸ': 'è·¨ç¶²åŸŸ',
      'è·¯ç”±': 'è·¯ç”±',
      'è·¯ç”±å™¨': 'è·¯ç”±å™¨',
      'è½¯ä»¶': 'è»Ÿé«”',
      'è½¯ä»¶åŒ…': 'è»Ÿé«”å¥—ä»¶',
      'è½¯ä»¶å¼€å‘': 'è»Ÿé«”é–‹ç™¼',
      'è½¯ä»¶å·¥ç¨‹': 'è»Ÿé«”å·¥ç¨‹',
      'è¾“å…¥': 'è¼¸å…¥',
      'è¾“å‡º': 'è¼¸å‡º',
      'è¿è¡Œ': 'åŸ·è¡Œ',
      'è¿è¡Œæ—¶': 'åŸ·è¡Œæ™‚æœŸ',
      'è¿è¡Œæ—¶çŽ¯å¢ƒ': 'åŸ·è¡Œç’°å¢ƒ',
      'è¿è¡Œæ—¶æ£€æŸ¥': 'åŸ·è¡Œæ™‚æœŸæª¢æŸ¥',
      'è¿›ç¨‹': 'è™•ç†åº',
      'è¿›ç¨‹é—´é€šä¿¡': 'è™•ç†åºé–“é€šè¨Š',
      'è¿žæŽ¥': 'é€£ç·š',
      'è¿žæŽ¥æ± ': 'é€£ç·šé›†å€',
      'éåŽ†': 'éæ­·',
      'é€‚é…å™¨': 'é…æŽ¥å™¨',
      'é…ç½®': 'çµ„æ…‹',
      'é…ç½®æ–‡ä»¶': 'çµ„æ…‹æª”',
      'é‡è½½': 'å¤šè¼‰',
      'é“¾æŽ¥': 'é€£çµ',
      'é“¾å¼è°ƒç”¨': 'éˆå¼å‘¼å«',
      'é˜Ÿåˆ—': 'ä½‡åˆ—',
      'éšå¼': 'éš±å«',
      'éšå¼è½¬æ¢': 'éš±å«è½‰æ›',
      'é›†åˆ': 'é›†åˆ',
      'é›†æˆ': 'æ•´åˆ',
      'é›†æˆå¼€å‘çŽ¯å¢ƒ': 'æ•´åˆé–‹ç™¼ç’°å¢ƒ',
      'é›†ç¾¤': 'å¢é›†',
      'äº‘è®¡ç®—': 'é›²ç«¯é‹ç®—',
      'äº‘ç«¯': 'é›²ç«¯',
      'é™æ€': 'éœæ…‹',
      'é™æ€æ–¹æ³•': 'éœæ…‹æ–¹æ³•',
      'é¢å‘å¯¹è±¡': 'ç‰©ä»¶å°Žå‘',
      'é¢å‘å¯¹è±¡ç¼–ç¨‹': 'ç‰©ä»¶å°Žå‘ç¨‹å¼è¨­è¨ˆ',
      'å“åº”': 'å›žæ‡‰',
      'å“åº”å¼': 'å›žæ‡‰å¼',
      'å“åº”å¼ç¼–ç¨‹': 'å›žæ‡‰å¼ç¨‹å¼è¨­è¨ˆ',
      'å“åº”å¤´': 'å›žæ‡‰æ¨™é ­',
      'å“åº”ä½“': 'å›žæ‡‰å…§æ–‡',
      'é¡µæ ‡ç±¤': 'é ç±¤',
      'é¡µå¤´': 'é é¦–',
      'é¡¹ç›®': 'å°ˆæ¡ˆ',
      'é¡¹ç›®æ–‡ä»¶å¤¹': 'å°ˆæ¡ˆè³‡æ–™å¤¾',
      'é¡¹ç›®çš„': 'å°ˆæ¡ˆçš„',
      'é¡¹ç›®ç›®å½•': 'å°ˆæ¡ˆç›®éŒ„',
      'é¡¹ç›®ç®¡ç†': 'å°ˆæ¡ˆç®¡ç†',
      'é¡¹ç›®è®¾ç½®': 'å°ˆæ¡ˆè¨­å®š',
      'ç±»åž‹': 'åž‹åˆ¥',
      'ç±»åž‹æŽ¨æ–­': 'åž‹åˆ¥æŽ¨æ–·',
      'ç±»åž‹æ£€æŸ¥': 'åž‹åˆ¥æª¢æŸ¥',
      'ç±»åž‹ç³»ç»Ÿ': 'åž‹åˆ¥ç³»çµ±',
      'ç±»åž‹è½¬æ¢': 'åž‹åˆ¥è½‰æ›',
      'æ˜¾å¼': 'æ˜Žç¢º',
      'æ˜¾å¼åœ°': 'æ˜Žç¢ºåœ°',
      'æ˜¾å¼å£°æ˜Ž': 'æ˜Žç¢ºå®£å‘Š',
      'é«˜çº§': 'é€²éšŽ',
      'é«˜çº§ç”¨æ³•': 'é€²éšŽç”¨æ³•',
      'é«˜çº§çš„': 'é€²éšŽçš„',
      'é«˜çº§ç‰¹æ€§': 'é€²éšŽç‰¹æ€§',
      'é»˜è®¤': 'é è¨­',
      'é»˜è®¤å€¼': 'é è¨­å€¼',
      'é»˜è®¤å‚æ•°': 'é è¨­åƒæ•¸',
      'é¼ æ ‡': 'æ»‘é¼ ',
      'é¼ æ ‡äº‹ä»¶': 'æ»‘é¼ äº‹ä»¶'
    };
    for (const [cn, tw] of Object.entries(cases)) {
      // console.log(`Testing conversion: ${cn} -> ${tw}`);
      expect(converter(cn)).toBe(tw);
    }
  });
});

